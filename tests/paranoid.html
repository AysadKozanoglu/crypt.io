<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>secStore paranoid tests</title>
		<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
		<script src="../secStore.js"></script>
		<script src="../3rd-party/sjcl/sjcl.js"></script>
		<script>
			$(document).ready(function(){
				$.getJSON('sample-data.json', function(data){
					$('#paranoid').html('Retrieved sample JSON data, saving...');

					var pw = window.prompt("Enter password to protect data", "");
					$(window).secStore({
						data: data,
						aes: true,
						uuid: sjcl.misc.pbkdf2(pw, "salt", 1000, 256),
						callback: function(results){
							$('#paranoid').append(results+'</p>');
						}
					});
				});

				var pw = window.prompt("Enter password to retrieve data (should be the same as previously entered)", "");
				$('#paranoid').append('<p>Retrieving previously saved data...');
				$(window).secStore({
					aes: true,
					uuid: sjcl.misc.pbkdf2(pw, "salt", 1000, 256),
					callback: function(results){
						$('#paranoid').append(results+'</p>');
					}
				});
			});
		</script>
	</head>
	<body>
		<div id="paranoid"></div>
	</body>
</html>